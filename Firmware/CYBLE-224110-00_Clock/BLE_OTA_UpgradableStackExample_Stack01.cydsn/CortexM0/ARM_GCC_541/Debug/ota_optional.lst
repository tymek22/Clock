ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m0
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"ota_optional.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.AfterImageUpdate,"ax",%progbits
  20              		.align	2
  21              		.global	AfterImageUpdate
  22              		.code	16
  23              		.thumb_func
  24              		.type	AfterImageUpdate, %function
  25              	AfterImageUpdate:
  26              	.LFB36:
  27              		.file 1 "ota_optional.c"
   1:ota_optional.c **** /*******************************************************************************
   2:ota_optional.c **** * File Name: ota_optional.c
   3:ota_optional.c **** *
   4:ota_optional.c **** * Version: 1.20
   5:ota_optional.c **** *
   6:ota_optional.c **** * Description:
   7:ota_optional.c **** *  Provides an API that implement optional functionality of OTA.
   8:ota_optional.c **** *
   9:ota_optional.c **** * Hardware Dependency:
  10:ota_optional.c **** *  CY8CKIT-042 BLE
  11:ota_optional.c **** *
  12:ota_optional.c **** ********************************************************************************
  13:ota_optional.c **** * Copyright 2014-2016, Cypress Semiconductor Corporation. All rights reserved.
  14:ota_optional.c **** * This software is owned by Cypress Semiconductor Corporation and is protected
  15:ota_optional.c **** * by and subject to worldwide patent and copyright laws and treaties.
  16:ota_optional.c **** * Therefore, you may use this software only as provided in the license agreement
  17:ota_optional.c **** * accompanying the software package from which you obtained this software.
  18:ota_optional.c **** * CYPRESS AND ITS SUPPLIERS MAKE NO WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
  19:ota_optional.c **** * WITH REGARD TO THIS SOFTWARE, INCLUDING, BUT NOT LIMITED TO, NONINFRINGEMENT,
  20:ota_optional.c **** * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
  21:ota_optional.c **** *******************************************************************************/
  22:ota_optional.c **** #include "ota_optional.h"
  23:ota_optional.c **** 
  24:ota_optional.c **** 
  25:ota_optional.c **** 
  26:ota_optional.c **** /*******************************************************************************
  27:ota_optional.c **** * Function Name: AfterImageUpdate
  28:ota_optional.c **** ********************************************************************************
  29:ota_optional.c **** *
  30:ota_optional.c **** * Summary:
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 2


  31:ota_optional.c **** *   This function checks if Self Project Image has been Updated and is running
  32:ota_optional.c **** *   for the first time. If so, and if Bonding data is used then it verifies
  33:ota_optional.c **** *   bonding data and erases bonding data if it is not valid
  34:ota_optional.c **** *
  35:ota_optional.c **** * Parameters:
  36:ota_optional.c **** *   None
  37:ota_optional.c **** *
  38:ota_optional.c **** * Return:
  39:ota_optional.c **** *   None
  40:ota_optional.c **** *
  41:ota_optional.c **** *******************************************************************************/
  42:ota_optional.c **** void AfterImageUpdate()
  43:ota_optional.c **** {
  28              		.loc 1 43 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 10B5     		push	{r4, lr}
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 4, -8
  35              		.cfi_offset 14, -4
  44:ota_optional.c ****     #if ((CYBLE_GAP_ROLE_PERIPHERAL || CYBLE_GAP_ROLE_CENTRAL) && (CYBLE_BONDING_REQUIREMENT == CYB
  45:ota_optional.c ****         #if (PRINT_BOUNDING_DATA == YES)
  46:ota_optional.c ****             uint32 i;
  47:ota_optional.c ****             uint32 j;
  48:ota_optional.c ****         #endif
  49:ota_optional.c ****     #endif /* ((CYBLE_GAP_ROLE_PERIPHERAL || CYBLE_GAP_ROLE_CENTRAL) && (CYBLE_BONDING_REQUIREMENT 
  50:ota_optional.c ****     
  51:ota_optional.c ****     if (0u == (uint32) CY_GET_XTND_REG8((volatile uint8 *)UPDATE_FLAG_OFFSET))
  36              		.loc 1 51 0
  37 0002 094B     		ldr	r3, .L3
  38 0004 1B78     		ldrb	r3, [r3]
  39 0006 002B     		cmp	r3, #0
  40 0008 0DD1     		bne	.L1
  52:ota_optional.c ****     {
  53:ota_optional.c ****         DBG_PRINT_TEXT("Stack project was updated.");
  41              		.loc 1 53 0
  42 000a 0848     		ldr	r0, .L3+4
  43 000c FFF7FEFF 		bl	UART_PutString
  44              	.LVL0:
  54:ota_optional.c ****         
  55:ota_optional.c ****         #if ((CYBLE_GAP_ROLE_PERIPHERAL || CYBLE_GAP_ROLE_CENTRAL) && (CYBLE_BONDING_REQUIREMENT ==
  56:ota_optional.c ****             /* Clean bounded device list. */
  57:ota_optional.c ****             Clear_ROM_Array((uint8 *)&cyBle_flashStorage, sizeof(cyBle_flashStorage));
  58:ota_optional.c ****         #endif /* ((CYBLE_GAP_ROLE_PERIPHERAL || CYBLE_GAP_ROLE_CENTRAL) && (CYBLE_BONDING_REQUIREM
  59:ota_optional.c ****             
  60:ota_optional.c ****         /* Set byte in metadata row indicating that Stack project was started. */
  61:ota_optional.c ****         Loader_SetFlashByte(UPDATE_FLAG_OFFSET, 1u);
  45              		.loc 1 61 0
  46 0010 0121     		movs	r1, #1
  47 0012 0548     		ldr	r0, .L3
  48 0014 FFF7FEFF 		bl	Loader_SetFlashByte
  49              	.LVL1:
  62:ota_optional.c ****         
  63:ota_optional.c ****         DBG_PRINT_TEXT("\r\n");
  50              		.loc 1 63 0
  51 0018 054C     		ldr	r4, .L3+8
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 3


  52 001a 2000     		movs	r0, r4
  53 001c FFF7FEFF 		bl	UART_PutString
  54              	.LVL2:
  64:ota_optional.c ****         DBG_PRINT_TEXT("\r\n");
  55              		.loc 1 64 0
  56 0020 2000     		movs	r0, r4
  57 0022 FFF7FEFF 		bl	UART_PutString
  58              	.LVL3:
  59              	.L1:
  65:ota_optional.c ****     }
  66:ota_optional.c ****     
  67:ota_optional.c ****     #if ((CYBLE_GAP_ROLE_PERIPHERAL || CYBLE_GAP_ROLE_CENTRAL) && (CYBLE_BONDING_REQUIREMENT == CYB
  68:ota_optional.c ****         #if (PRINT_BOUNDING_DATA == YES)
  69:ota_optional.c ****             /* Print bounding data if it was enabled in options.h */
  70:ota_optional.c ****             if (CYBLE_GATT_DB_CCCD_COUNT > 0u)
  71:ota_optional.c ****             {
  72:ota_optional.c ****                 DBG_PRINT_TEXT("CCCD array(s):\r\n");
  73:ota_optional.c ****                 for (i = 0u; i <= CYBLE_GAP_MAX_BONDED_DEVICE; i++)
  74:ota_optional.c ****                 {
  75:ota_optional.c ****                     DBG_PRINTF("%lu: ", i);
  76:ota_optional.c ****                     for (j = 0u; j < CYBLE_GATT_DB_CCCD_COUNT; j++)
  77:ota_optional.c ****                     {
  78:ota_optional.c ****                         DBG_PRINTF("0x%02x ", cyBle_flashStorage.attValuesCCCDFlashMemory[i][j]);
  79:ota_optional.c ****                     }
  80:ota_optional.c ****                     DBG_PRINT_TEXT("\r\n");
  81:ota_optional.c ****                 }
  82:ota_optional.c ****             }
  83:ota_optional.c ****             
  84:ota_optional.c ****             DBG_PRINT_TEXT("\r\nBounding array:\r\n");
  85:ota_optional.c ****             j = 0u;
  86:ota_optional.c ****             for (i = 0u; i < sizeof(cyBle_flashStorage.stackFlashptr); i++)
  87:ota_optional.c ****             {
  88:ota_optional.c ****                 if (j < LENGHT_OF_UART_ROW)
  89:ota_optional.c ****                 {
  90:ota_optional.c ****                     DBG_PRINTF("0x%02x ", cyBle_flashStorage.stackFlashptr[i]);
  91:ota_optional.c ****                     j++;
  92:ota_optional.c ****                 }
  93:ota_optional.c ****                 else
  94:ota_optional.c ****                 {
  95:ota_optional.c ****                     DBG_PRINTF("0x%02x\r\n", cyBle_flashStorage.stackFlashptr[i]);
  96:ota_optional.c ****                     j = 0u;
  97:ota_optional.c ****                 }
  98:ota_optional.c ****             }
  99:ota_optional.c ****             DBG_PRINT_TEXT("\r\n");
 100:ota_optional.c ****             DBG_PRINT_TEXT("\r\n");
 101:ota_optional.c ****         #endif /* (PRINT_BOUNDING_DATA == YES) */
 102:ota_optional.c ****     #endif /* ((CYBLE_GAP_ROLE_PERIPHERAL || CYBLE_GAP_ROLE_CENTRAL) && (CYBLE_BONDING_REQUIREMENT 
 103:ota_optional.c **** }
  60              		.loc 1 103 0
  61              		@ sp needed
  62 0026 10BD     		pop	{r4, pc}
  63              	.L4:
  64              		.align	2
  65              	.L3:
  66 0028 0AFF0300 		.word	261898
  67 002c 00000000 		.word	.LC0
  68 0030 1C000000 		.word	.LC2
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 4


  69              		.cfi_endproc
  70              	.LFE36:
  71              		.size	AfterImageUpdate, .-AfterImageUpdate
  72              		.section	.text.TimeoutImplementation,"ax",%progbits
  73              		.align	2
  74              		.global	TimeoutImplementation
  75              		.code	16
  76              		.thumb_func
  77              		.type	TimeoutImplementation, %function
  78              	TimeoutImplementation:
  79              	.LFB37:
 104:ota_optional.c **** 
 105:ota_optional.c **** 
 106:ota_optional.c **** #if ((CYBLE_GAP_ROLE_PERIPHERAL || CYBLE_GAP_ROLE_CENTRAL) && (CYBLE_BONDING_REQUIREMENT == CYBLE_B
 107:ota_optional.c **** /*******************************************************************************
 108:ota_optional.c **** * Function Name: Clear_ROM_Array
 109:ota_optional.c **** ********************************************************************************
 110:ota_optional.c **** *
 111:ota_optional.c **** * Summary:
 112:ota_optional.c **** *   Clears specified area in ROM.
 113:ota_optional.c **** *
 114:ota_optional.c **** * Parameters:
 115:ota_optional.c **** *   const uint8 eepromPtr[]:
 116:ota_optional.c **** *        Pointer to ROM to be cleared
 117:ota_optional.c **** *   uint32 byteCount:
 118:ota_optional.c **** *        Size of area to be cleared in bytes
 119:ota_optional.c **** *
 120:ota_optional.c **** * Return:
 121:ota_optional.c **** *   CYRET_UNKNOWN - On failure operation.
 122:ota_optional.c **** *   CYRET_SUCCESS - Operation successfully completed.
 123:ota_optional.c **** *
 124:ota_optional.c **** *******************************************************************************/
 125:ota_optional.c **** cystatus Clear_ROM_Array(const uint8 eepromPtr[], uint32 byteCount)
 126:ota_optional.c **** {
 127:ota_optional.c ****     uint8 writeBuffer[CY_FLASH_SIZEOF_ROW];
 128:ota_optional.c ****     uint32 rowId;
 129:ota_optional.c ****     uint32 dstIndex;
 130:ota_optional.c ****     uint32 srcIndex;
 131:ota_optional.c ****     cystatus rc;
 132:ota_optional.c ****     uint32 dataOffset;
 133:ota_optional.c ****     uint32 byteOffset;
 134:ota_optional.c ****     
 135:ota_optional.c ****     dataOffset = (uint32)eepromPtr;
 136:ota_optional.c ****     
 137:ota_optional.c ****     if (((uint32)eepromPtr + byteCount) < (CYDEV_FLASH_BASE+CYDEV_FLASH_SIZE))
 138:ota_optional.c ****     {
 139:ota_optional.c ****         rowId = (dataOffset / CY_FLASH_SIZEOF_ROW);
 140:ota_optional.c ****         byteOffset = (CY_FLASH_SIZEOF_ROW * rowId);
 141:ota_optional.c ****         srcIndex = 0u;
 142:ota_optional.c **** 
 143:ota_optional.c ****         rc = CYRET_SUCCESS;
 144:ota_optional.c **** 
 145:ota_optional.c ****         while ((srcIndex < byteCount) && (CYRET_SUCCESS == rc))
 146:ota_optional.c ****         {
 147:ota_optional.c ****             /* Fill only needed data with zeros. */
 148:ota_optional.c ****             for (dstIndex = 0u; dstIndex < CY_FLASH_SIZEOF_ROW; dstIndex++)
 149:ota_optional.c ****             {
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 5


 150:ota_optional.c ****                 if ((byteOffset >= dataOffset) && (srcIndex < byteCount))
 151:ota_optional.c ****                 {
 152:ota_optional.c ****                     writeBuffer[dstIndex] = 0x00;
 153:ota_optional.c ****                     srcIndex++;
 154:ota_optional.c ****                 }
 155:ota_optional.c ****                 else
 156:ota_optional.c ****                 {
 157:ota_optional.c ****                     writeBuffer[dstIndex] = CY_GET_XTND_REG8(CYDEV_FLASH_BASE + byteOffset);
 158:ota_optional.c ****                 }
 159:ota_optional.c ****                 byteOffset++;
 160:ota_optional.c ****             }
 161:ota_optional.c **** 
 162:ota_optional.c ****             rc = CySysFlashWriteRow(rowId, writeBuffer);
 163:ota_optional.c ****             
 164:ota_optional.c ****             /* Go to the next row */
 165:ota_optional.c ****             rowId++;
 166:ota_optional.c ****         }
 167:ota_optional.c ****     }
 168:ota_optional.c ****     else
 169:ota_optional.c ****     {
 170:ota_optional.c ****         rc = CYRET_BAD_PARAM;
 171:ota_optional.c ****     }
 172:ota_optional.c ****     
 173:ota_optional.c ****     /* Mask return codes from flash, if they are not supported */
 174:ota_optional.c ****     if ((CYRET_SUCCESS != rc) && (CYRET_BAD_PARAM != rc))
 175:ota_optional.c ****     {
 176:ota_optional.c ****         rc = CYRET_UNKNOWN;
 177:ota_optional.c ****     }
 178:ota_optional.c ****     
 179:ota_optional.c ****     return (rc);
 180:ota_optional.c **** }
 181:ota_optional.c **** #endif /* ((CYBLE_GAP_ROLE_PERIPHERAL || CYBLE_GAP_ROLE_CENTRAL) && (CYBLE_BONDING_REQUIREMENT == C
 182:ota_optional.c **** 
 183:ota_optional.c **** 
 184:ota_optional.c **** void TimeoutImplementation()
 185:ota_optional.c **** {
  80              		.loc 1 185 0
  81              		.cfi_startproc
  82              		@ args = 0, pretend = 0, frame = 0
  83              		@ frame_needed = 0, uses_anonymous_args = 0
  84 0000 10B5     		push	{r4, lr}
  85              		.cfi_def_cfa_offset 8
  86              		.cfi_offset 4, -8
  87              		.cfi_offset 14, -4
 186:ota_optional.c ****     static uint16 counter = 1u;
 187:ota_optional.c ****     
 188:ota_optional.c ****     if (counter > 0u)
  88              		.loc 1 188 0
  89 0002 304B     		ldr	r3, .L14
  90 0004 1B88     		ldrh	r3, [r3]
  91 0006 002B     		cmp	r3, #0
  92 0008 0AD0     		beq	.L6
 189:ota_optional.c ****     {
 190:ota_optional.c ****         if ((Loader_isBootloading != Loader_BOOTLOADING_IN_PROGRESS) && (CyBle_GetState() != CYBLE_
  93              		.loc 1 190 0
  94 000a 2F4A     		ldr	r2, .L14+4
  95 000c 1278     		ldrb	r2, [r2]
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 6


  96 000e 012A     		cmp	r2, #1
  97 0010 06D0     		beq	.L6
  98              		.loc 1 190 0 is_stmt 0 discriminator 1
  99 0012 2E4A     		ldr	r2, .L14+8
 100 0014 1278     		ldrb	r2, [r2]
 101 0016 022A     		cmp	r2, #2
 102 0018 02D0     		beq	.L6
 191:ota_optional.c ****         {
 192:ota_optional.c ****             counter++;
 103              		.loc 1 192 0 is_stmt 1
 104 001a 0133     		adds	r3, r3, #1
 105 001c 294A     		ldr	r2, .L14
 106 001e 1380     		strh	r3, [r2]
 107              	.L6:
 193:ota_optional.c ****         }
 194:ota_optional.c ****     }
 195:ota_optional.c ****     
 196:ota_optional.c ****     if (counter == WARNING_TIMEOUT)
 108              		.loc 1 196 0
 109 0020 284B     		ldr	r3, .L14
 110 0022 1B88     		ldrh	r3, [r3]
 111 0024 2A4A     		ldr	r2, .L14+12
 112 0026 9342     		cmp	r3, r2
 113 0028 0FD1     		bne	.L7
 197:ota_optional.c ****     {
 198:ota_optional.c ****         if (CYRET_SUCCESS != Loader_ValidateApp(1u))
 114              		.loc 1 198 0
 115 002a 0120     		movs	r0, #1
 116 002c FFF7FEFF 		bl	Loader_ValidateBootloadable
 117              	.LVL4:
 118 0030 0028     		cmp	r0, #0
 119 0032 06D0     		beq	.L8
 199:ota_optional.c ****         {
 200:ota_optional.c ****             /* If bootloadable image is invalid - wait for the valid image to be received. */
 201:ota_optional.c ****             DBG_PRINT_TEXT("BLE Upgradable Stack Application image is invalid. Will stay here...\r\
 120              		.loc 1 201 0
 121 0034 2748     		ldr	r0, .L14+16
 122 0036 FFF7FEFF 		bl	UART_PutString
 123              	.LVL5:
 202:ota_optional.c ****             counter = 0u;
 124              		.loc 1 202 0
 125 003a 0022     		movs	r2, #0
 126 003c 214B     		ldr	r3, .L14
 127 003e 1A80     		strh	r2, [r3]
 128 0040 12E0     		b	.L9
 129              	.L8:
 203:ota_optional.c ****         }
 204:ota_optional.c ****         else
 205:ota_optional.c ****         {
 206:ota_optional.c ****             DBG_PRINT_TEXT("Inactivity will cause switch to the application...\r\n");   
 130              		.loc 1 206 0
 131 0042 2548     		ldr	r0, .L14+20
 132 0044 FFF7FEFF 		bl	UART_PutString
 133              	.LVL6:
 134 0048 0EE0     		b	.L9
 135              	.L7:
 207:ota_optional.c ****         }
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 7


 208:ota_optional.c ****     }
 209:ota_optional.c ****     else if (counter >= SWITCHING_TIMEOUT)
 136              		.loc 1 209 0
 137 004a 244A     		ldr	r2, .L14+24
 138 004c 9342     		cmp	r3, r2
 139 004e 0BD9     		bls	.L9
 210:ota_optional.c ****     {
 211:ota_optional.c ****         /* Automatical switch to the Application project will occur only if Application image is va
 212:ota_optional.c ****          * after ~300 seconds of inactivity.
 213:ota_optional.c ****          */
 214:ota_optional.c ****         DBG_PRINT_TEXT("Switching to BLE Upgradable Stack Application...\r\n");      
 140              		.loc 1 214 0
 141 0050 2348     		ldr	r0, .L14+28
 142 0052 FFF7FEFF 		bl	UART_PutString
 143              	.LVL7:
 215:ota_optional.c ****         CyDelay(500u);
 144              		.loc 1 215 0
 145 0056 FA20     		movs	r0, #250
 146 0058 4000     		lsls	r0, r0, #1
 147 005a FFF7FEFF 		bl	CyDelay
 148              	.LVL8:
 216:ota_optional.c ****         Bootloadable_SetActiveApplication(1u);
 149              		.loc 1 216 0
 150 005e 0120     		movs	r0, #1
 151 0060 FFF7FEFF 		bl	Bootloadable_SetActiveApplication
 152              	.LVL9:
 217:ota_optional.c ****         CySoftwareReset();
 153              		.loc 1 217 0
 154 0064 FFF7FEFF 		bl	CySoftwareReset
 155              	.LVL10:
 156              	.L9:
 218:ota_optional.c ****     }
 219:ota_optional.c ****     
 220:ota_optional.c ****     if(SW2_S_Read() == 0u)
 157              		.loc 1 220 0
 158 0068 FFF7FEFF 		bl	SW2_S_Read
 159              	.LVL11:
 160 006c 0028     		cmp	r0, #0
 161 006e 27D1     		bne	.L5
 221:ota_optional.c ****     {
 222:ota_optional.c ****         CyDelay(500);
 162              		.loc 1 222 0
 163 0070 F530     		adds	r0, r0, #245
 164 0072 FF30     		adds	r0, r0, #255
 165 0074 FFF7FEFF 		bl	CyDelay
 166              	.LVL12:
 223:ota_optional.c ****         if(SW2_S_Read() == 0u)
 167              		.loc 1 223 0
 168 0078 FFF7FEFF 		bl	SW2_S_Read
 169              	.LVL13:
 170 007c 0028     		cmp	r0, #0
 171 007e 1FD1     		bne	.L5
 224:ota_optional.c ****         {
 225:ota_optional.c ****             #if (DEBUG_UART_ENABLED == YES)
 226:ota_optional.c ****                 DBG_PRINT_TEXT("Switching to BLE Upgradable Stack Application...\r\n");
 172              		.loc 1 226 0
 173 0080 1748     		ldr	r0, .L14+28
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 8


 174 0082 FFF7FEFF 		bl	UART_PutString
 175              	.LVL14:
 227:ota_optional.c ****                 CyDelay(500);
 176              		.loc 1 227 0
 177 0086 FA20     		movs	r0, #250
 178 0088 4000     		lsls	r0, r0, #1
 179 008a FFF7FEFF 		bl	CyDelay
 180              	.LVL15:
 228:ota_optional.c ****             #endif /* (DEBUG_UART_ENABLED == YES) */
 229:ota_optional.c ****                 if(SW2_S_Read() == 0u)
 181              		.loc 1 229 0
 182 008e FFF7FEFF 		bl	SW2_S_Read
 183              	.LVL16:
 184 0092 0028     		cmp	r0, #0
 185 0094 06D1     		bne	.L11
 230:ota_optional.c ****                 {
 231:ota_optional.c ****                     DBG_PRINT_TEXT("Release SW2 button to proceed...\r\n");
 186              		.loc 1 231 0
 187 0096 1348     		ldr	r0, .L14+32
 188 0098 FFF7FEFF 		bl	UART_PutString
 189              	.LVL17:
 190              	.L12:
 232:ota_optional.c ****                     while (SW2_S_Read() == 0u)
 191              		.loc 1 232 0 discriminator 1
 192 009c FFF7FEFF 		bl	SW2_S_Read
 193              	.LVL18:
 194 00a0 0028     		cmp	r0, #0
 195 00a2 FBD0     		beq	.L12
 196              	.L11:
 233:ota_optional.c ****                     {
 234:ota_optional.c ****                         /* Wait for button to be released */
 235:ota_optional.c ****                     }
 236:ota_optional.c ****                 }
 237:ota_optional.c **** 
 238:ota_optional.c ****             if (CYRET_SUCCESS == Loader_ValidateApp(1u))
 197              		.loc 1 238 0
 198 00a4 0120     		movs	r0, #1
 199 00a6 FFF7FEFF 		bl	Loader_ValidateBootloadable
 200              	.LVL19:
 201 00aa 0028     		cmp	r0, #0
 202 00ac 05D1     		bne	.L13
 239:ota_optional.c ****             {
 240:ota_optional.c ****                 Bootloadable_SetActiveApplication(1u);
 203              		.loc 1 240 0
 204 00ae 0130     		adds	r0, r0, #1
 205 00b0 FFF7FEFF 		bl	Bootloadable_SetActiveApplication
 206              	.LVL20:
 241:ota_optional.c ****                 CySoftwareReset();
 207              		.loc 1 241 0
 208 00b4 FFF7FEFF 		bl	CySoftwareReset
 209              	.LVL21:
 210 00b8 02E0     		b	.L5
 211              	.L13:
 242:ota_optional.c ****             }
 243:ota_optional.c ****             else
 244:ota_optional.c ****             {
 245:ota_optional.c ****                 DBG_PRINT_TEXT("BLE Upgradable Stack Application is not valid.\r\n");
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 9


 212              		.loc 1 245 0
 213 00ba 0B48     		ldr	r0, .L14+36
 214 00bc FFF7FEFF 		bl	UART_PutString
 215              	.LVL22:
 216              	.L5:
 246:ota_optional.c ****             }
 247:ota_optional.c ****         }
 248:ota_optional.c ****     }
 249:ota_optional.c **** }
 217              		.loc 1 249 0
 218              		@ sp needed
 219 00c0 10BD     		pop	{r4, pc}
 220              	.L15:
 221 00c2 C046     		.align	2
 222              	.L14:
 223 00c4 00000000 		.word	.LANCHOR0
 224 00c8 00000000 		.word	Loader_isBootloading
 225 00cc 00000000 		.word	cyBle_state
 226 00d0 F0550000 		.word	22000
 227 00d4 20000000 		.word	.LC7
 228 00d8 68000000 		.word	.LC9
 229 00dc 276E0000 		.word	28199
 230 00e0 A0000000 		.word	.LC11
 231 00e4 D4000000 		.word	.LC13
 232 00e8 F8000000 		.word	.LC15
 233              		.cfi_endproc
 234              	.LFE37:
 235              		.size	TimeoutImplementation, .-TimeoutImplementation
 236              		.data
 237              		.align	1
 238              		.set	.LANCHOR0,. + 0
 239              		.type	counter.7946, %object
 240              		.size	counter.7946, 2
 241              	counter.7946:
 242 0000 0100     		.short	1
 243              		.section	.rodata.str1.4,"aMS",%progbits,1
 244              		.align	2
 245              	.LC0:
 246 0000 53746163 		.ascii	"Stack project was updated.\000"
 246      6B207072 
 246      6F6A6563 
 246      74207761 
 246      73207570 
 247 001b 00       		.space	1
 248              	.LC2:
 249 001c 0D0A00   		.ascii	"\015\012\000"
 250 001f 00       		.space	1
 251              	.LC7:
 252 0020 424C4520 		.ascii	"BLE Upgradable Stack Application image is invalid. "
 252      55706772 
 252      61646162 
 252      6C652053 
 252      7461636B 
 253 0053 57696C6C 		.ascii	"Will stay here...\015\012\000"
 253      20737461 
 253      79206865 
 253      72652E2E 
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 10


 253      2E0D0A00 
 254 0067 00       		.space	1
 255              	.LC9:
 256 0068 496E6163 		.ascii	"Inactivity will cause switch to the application...\015"
 256      74697669 
 256      74792077 
 256      696C6C20 
 256      63617573 
 257 009b 0A00     		.ascii	"\012\000"
 258 009d 000000   		.space	3
 259              	.LC11:
 260 00a0 53776974 		.ascii	"Switching to BLE Upgradable Stack Application...\015"
 260      6368696E 
 260      6720746F 
 260      20424C45 
 260      20557067 
 261 00d1 0A00     		.ascii	"\012\000"
 262 00d3 00       		.space	1
 263              	.LC13:
 264 00d4 52656C65 		.ascii	"Release SW2 button to proceed...\015\012\000"
 264      61736520 
 264      53573220 
 264      62757474 
 264      6F6E2074 
 265 00f7 00       		.space	1
 266              	.LC15:
 267 00f8 424C4520 		.ascii	"BLE Upgradable Stack Application is not valid.\015\012"
 267      55706772 
 267      61646162 
 267      6C652053 
 267      7461636B 
 268 0128 00       		.ascii	"\000"
 269              		.text
 270              	.Letext0:
 271              		.file 2 "Generated_Source\\PSoC4/cytypes.h"
 272              		.file 3 "Generated_Source\\PSoC4/CyBle_eventHandler.h"
 273              		.file 4 "Generated_Source\\PSoC4/Loader.h"
 274              		.file 5 "Generated_Source\\PSoC4/UART.h"
 275              		.file 6 "Generated_Source\\PSoC4/CyLib.h"
 276              		.file 7 "Generated_Source\\PSoC4/Bootloadable.h"
 277              		.file 8 "Generated_Source\\PSoC4/SW2_S.h"
 278              		.section	.debug_info,"",%progbits
 279              	.Ldebug_info0:
 280 0000 21030000 		.4byte	0x321
 281 0004 0400     		.2byte	0x4
 282 0006 00000000 		.4byte	.Ldebug_abbrev0
 283 000a 04       		.byte	0x4
 284 000b 01       		.uleb128 0x1
 285 000c E0010000 		.4byte	.LASF35
 286 0010 0C       		.byte	0xc
 287 0011 19000000 		.4byte	.LASF36
 288 0015 28000000 		.4byte	.LASF37
 289 0019 00000000 		.4byte	.Ldebug_ranges0+0
 290 001d 00000000 		.4byte	0
 291 0021 00000000 		.4byte	.Ldebug_line0
 292 0025 02       		.uleb128 0x2
 293 0026 01       		.byte	0x1
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 11


 294 0027 06       		.byte	0x6
 295 0028 EF020000 		.4byte	.LASF0
 296 002c 02       		.uleb128 0x2
 297 002d 01       		.byte	0x1
 298 002e 08       		.byte	0x8
 299 002f C8000000 		.4byte	.LASF1
 300 0033 02       		.uleb128 0x2
 301 0034 02       		.byte	0x2
 302 0035 05       		.byte	0x5
 303 0036 A4020000 		.4byte	.LASF2
 304 003a 02       		.uleb128 0x2
 305 003b 02       		.byte	0x2
 306 003c 07       		.byte	0x7
 307 003d 83020000 		.4byte	.LASF3
 308 0041 02       		.uleb128 0x2
 309 0042 04       		.byte	0x4
 310 0043 05       		.byte	0x5
 311 0044 DA020000 		.4byte	.LASF4
 312 0048 02       		.uleb128 0x2
 313 0049 04       		.byte	0x4
 314 004a 07       		.byte	0x7
 315 004b 38010000 		.4byte	.LASF5
 316 004f 02       		.uleb128 0x2
 317 0050 08       		.byte	0x8
 318 0051 05       		.byte	0x5
 319 0052 96020000 		.4byte	.LASF6
 320 0056 02       		.uleb128 0x2
 321 0057 08       		.byte	0x8
 322 0058 07       		.byte	0x7
 323 0059 B1000000 		.4byte	.LASF7
 324 005d 03       		.uleb128 0x3
 325 005e 04       		.byte	0x4
 326 005f 05       		.byte	0x5
 327 0060 696E7400 		.ascii	"int\000"
 328 0064 02       		.uleb128 0x2
 329 0065 04       		.byte	0x4
 330 0066 07       		.byte	0x7
 331 0067 7A010000 		.4byte	.LASF8
 332 006b 04       		.uleb128 0x4
 333 006c AE020000 		.4byte	.LASF9
 334 0070 02       		.byte	0x2
 335 0071 D201     		.2byte	0x1d2
 336 0073 2C000000 		.4byte	0x2c
 337 0077 04       		.uleb128 0x4
 338 0078 6C010000 		.4byte	.LASF10
 339 007c 02       		.byte	0x2
 340 007d D301     		.2byte	0x1d3
 341 007f 3A000000 		.4byte	0x3a
 342 0083 04       		.uleb128 0x4
 343 0084 73010000 		.4byte	.LASF11
 344 0088 02       		.byte	0x2
 345 0089 D401     		.2byte	0x1d4
 346 008b 48000000 		.4byte	0x48
 347 008f 02       		.uleb128 0x2
 348 0090 04       		.byte	0x4
 349 0091 04       		.byte	0x4
 350 0092 A3000000 		.4byte	.LASF12
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 12


 351 0096 02       		.uleb128 0x2
 352 0097 08       		.byte	0x8
 353 0098 04       		.byte	0x4
 354 0099 9C000000 		.4byte	.LASF13
 355 009d 02       		.uleb128 0x2
 356 009e 01       		.byte	0x1
 357 009f 08       		.byte	0x8
 358 00a0 A3010000 		.4byte	.LASF14
 359 00a4 04       		.uleb128 0x4
 360 00a5 D6000000 		.4byte	.LASF15
 361 00a9 02       		.byte	0x2
 362 00aa 7C02     		.2byte	0x27c
 363 00ac B0000000 		.4byte	0xb0
 364 00b0 05       		.uleb128 0x5
 365 00b1 6B000000 		.4byte	0x6b
 366 00b5 02       		.uleb128 0x2
 367 00b6 08       		.byte	0x8
 368 00b7 04       		.byte	0x4
 369 00b8 E3020000 		.4byte	.LASF16
 370 00bc 02       		.uleb128 0x2
 371 00bd 04       		.byte	0x4
 372 00be 07       		.byte	0x7
 373 00bf 7A020000 		.4byte	.LASF17
 374 00c3 06       		.uleb128 0x6
 375 00c4 01       		.byte	0x1
 376 00c5 2C000000 		.4byte	0x2c
 377 00c9 03       		.byte	0x3
 378 00ca 5A08     		.2byte	0x85a
 379 00cc EF000000 		.4byte	0xef
 380 00d0 07       		.uleb128 0x7
 381 00d1 B6010000 		.4byte	.LASF18
 382 00d5 00       		.byte	0
 383 00d6 07       		.uleb128 0x7
 384 00d7 0A030000 		.4byte	.LASF19
 385 00db 01       		.byte	0x1
 386 00dc 07       		.uleb128 0x7
 387 00dd C4020000 		.4byte	.LASF20
 388 00e1 02       		.byte	0x2
 389 00e2 07       		.uleb128 0x7
 390 00e3 20010000 		.4byte	.LASF21
 391 00e7 03       		.byte	0x3
 392 00e8 07       		.uleb128 0x7
 393 00e9 00000000 		.4byte	.LASF22
 394 00ed 04       		.byte	0x4
 395 00ee 00       		.byte	0
 396 00ef 04       		.uleb128 0x4
 397 00f0 A8010000 		.4byte	.LASF23
 398 00f4 03       		.byte	0x3
 399 00f5 6808     		.2byte	0x868
 400 00f7 C3000000 		.4byte	0xc3
 401 00fb 08       		.uleb128 0x8
 402 00fc DB000000 		.4byte	.LASF24
 403 0100 01       		.byte	0x1
 404 0101 2A       		.byte	0x2a
 405 0102 00000000 		.4byte	.LFB36
 406 0106 34000000 		.4byte	.LFE36-.LFB36
 407 010a 01       		.uleb128 0x1
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 13


 408 010b 9C       		.byte	0x9c
 409 010c 68010000 		.4byte	0x168
 410 0110 09       		.uleb128 0x9
 411 0111 10000000 		.4byte	.LVL0
 412 0115 D7020000 		.4byte	0x2d7
 413 0119 27010000 		.4byte	0x127
 414 011d 0A       		.uleb128 0xa
 415 011e 01       		.uleb128 0x1
 416 011f 50       		.byte	0x50
 417 0120 05       		.uleb128 0x5
 418 0121 03       		.byte	0x3
 419 0122 00000000 		.4byte	.LC0
 420 0126 00       		.byte	0
 421 0127 09       		.uleb128 0x9
 422 0128 18000000 		.4byte	.LVL1
 423 012c E2020000 		.4byte	0x2e2
 424 0130 43010000 		.4byte	0x143
 425 0134 0A       		.uleb128 0xa
 426 0135 01       		.uleb128 0x1
 427 0136 50       		.byte	0x50
 428 0137 05       		.uleb128 0x5
 429 0138 0C       		.byte	0xc
 430 0139 0AFF0300 		.4byte	0x3ff0a
 431 013d 0A       		.uleb128 0xa
 432 013e 01       		.uleb128 0x1
 433 013f 51       		.byte	0x51
 434 0140 01       		.uleb128 0x1
 435 0141 31       		.byte	0x31
 436 0142 00       		.byte	0
 437 0143 09       		.uleb128 0x9
 438 0144 20000000 		.4byte	.LVL2
 439 0148 D7020000 		.4byte	0x2d7
 440 014c 57010000 		.4byte	0x157
 441 0150 0A       		.uleb128 0xa
 442 0151 01       		.uleb128 0x1
 443 0152 50       		.byte	0x50
 444 0153 02       		.uleb128 0x2
 445 0154 74       		.byte	0x74
 446 0155 00       		.sleb128 0
 447 0156 00       		.byte	0
 448 0157 0B       		.uleb128 0xb
 449 0158 26000000 		.4byte	.LVL3
 450 015c D7020000 		.4byte	0x2d7
 451 0160 0A       		.uleb128 0xa
 452 0161 01       		.uleb128 0x1
 453 0162 50       		.byte	0x50
 454 0163 02       		.uleb128 0x2
 455 0164 74       		.byte	0x74
 456 0165 00       		.sleb128 0
 457 0166 00       		.byte	0
 458 0167 00       		.byte	0
 459 0168 08       		.uleb128 0x8
 460 0169 CA010000 		.4byte	.LASF25
 461 016d 01       		.byte	0x1
 462 016e B8       		.byte	0xb8
 463 016f 00000000 		.4byte	.LFB37
 464 0173 EC000000 		.4byte	.LFE37-.LFB37
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 14


 465 0177 01       		.uleb128 0x1
 466 0178 9C       		.byte	0x9c
 467 0179 C0020000 		.4byte	0x2c0
 468 017d 0C       		.uleb128 0xc
 469 017e A9000000 		.4byte	.LASF38
 470 0182 01       		.byte	0x1
 471 0183 BA       		.byte	0xba
 472 0184 77000000 		.4byte	0x77
 473 0188 05       		.uleb128 0x5
 474 0189 03       		.byte	0x3
 475 018a 00000000 		.4byte	counter.7946
 476 018e 09       		.uleb128 0x9
 477 018f 30000000 		.4byte	.LVL4
 478 0193 ED020000 		.4byte	0x2ed
 479 0197 A1010000 		.4byte	0x1a1
 480 019b 0A       		.uleb128 0xa
 481 019c 01       		.uleb128 0x1
 482 019d 50       		.byte	0x50
 483 019e 01       		.uleb128 0x1
 484 019f 31       		.byte	0x31
 485 01a0 00       		.byte	0
 486 01a1 09       		.uleb128 0x9
 487 01a2 3A000000 		.4byte	.LVL5
 488 01a6 D7020000 		.4byte	0x2d7
 489 01aa B8010000 		.4byte	0x1b8
 490 01ae 0A       		.uleb128 0xa
 491 01af 01       		.uleb128 0x1
 492 01b0 50       		.byte	0x50
 493 01b1 05       		.uleb128 0x5
 494 01b2 03       		.byte	0x3
 495 01b3 20000000 		.4byte	.LC7
 496 01b7 00       		.byte	0
 497 01b8 09       		.uleb128 0x9
 498 01b9 48000000 		.4byte	.LVL6
 499 01bd D7020000 		.4byte	0x2d7
 500 01c1 CF010000 		.4byte	0x1cf
 501 01c5 0A       		.uleb128 0xa
 502 01c6 01       		.uleb128 0x1
 503 01c7 50       		.byte	0x50
 504 01c8 05       		.uleb128 0x5
 505 01c9 03       		.byte	0x3
 506 01ca 68000000 		.4byte	.LC9
 507 01ce 00       		.byte	0
 508 01cf 09       		.uleb128 0x9
 509 01d0 56000000 		.4byte	.LVL7
 510 01d4 D7020000 		.4byte	0x2d7
 511 01d8 E6010000 		.4byte	0x1e6
 512 01dc 0A       		.uleb128 0xa
 513 01dd 01       		.uleb128 0x1
 514 01de 50       		.byte	0x50
 515 01df 05       		.uleb128 0x5
 516 01e0 03       		.byte	0x3
 517 01e1 A0000000 		.4byte	.LC11
 518 01e5 00       		.byte	0
 519 01e6 09       		.uleb128 0x9
 520 01e7 5E000000 		.4byte	.LVL8
 521 01eb F8020000 		.4byte	0x2f8
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 15


 522 01ef FB010000 		.4byte	0x1fb
 523 01f3 0A       		.uleb128 0xa
 524 01f4 01       		.uleb128 0x1
 525 01f5 50       		.byte	0x50
 526 01f6 03       		.uleb128 0x3
 527 01f7 0A       		.byte	0xa
 528 01f8 F401     		.2byte	0x1f4
 529 01fa 00       		.byte	0
 530 01fb 09       		.uleb128 0x9
 531 01fc 64000000 		.4byte	.LVL9
 532 0200 03030000 		.4byte	0x303
 533 0204 0E020000 		.4byte	0x20e
 534 0208 0A       		.uleb128 0xa
 535 0209 01       		.uleb128 0x1
 536 020a 50       		.byte	0x50
 537 020b 01       		.uleb128 0x1
 538 020c 31       		.byte	0x31
 539 020d 00       		.byte	0
 540 020e 0D       		.uleb128 0xd
 541 020f 68000000 		.4byte	.LVL10
 542 0213 0E030000 		.4byte	0x30e
 543 0217 0D       		.uleb128 0xd
 544 0218 6C000000 		.4byte	.LVL11
 545 021c 19030000 		.4byte	0x319
 546 0220 0D       		.uleb128 0xd
 547 0221 78000000 		.4byte	.LVL12
 548 0225 F8020000 		.4byte	0x2f8
 549 0229 0D       		.uleb128 0xd
 550 022a 7C000000 		.4byte	.LVL13
 551 022e 19030000 		.4byte	0x319
 552 0232 09       		.uleb128 0x9
 553 0233 86000000 		.4byte	.LVL14
 554 0237 D7020000 		.4byte	0x2d7
 555 023b 49020000 		.4byte	0x249
 556 023f 0A       		.uleb128 0xa
 557 0240 01       		.uleb128 0x1
 558 0241 50       		.byte	0x50
 559 0242 05       		.uleb128 0x5
 560 0243 03       		.byte	0x3
 561 0244 A0000000 		.4byte	.LC11
 562 0248 00       		.byte	0
 563 0249 09       		.uleb128 0x9
 564 024a 8E000000 		.4byte	.LVL15
 565 024e F8020000 		.4byte	0x2f8
 566 0252 5E020000 		.4byte	0x25e
 567 0256 0A       		.uleb128 0xa
 568 0257 01       		.uleb128 0x1
 569 0258 50       		.byte	0x50
 570 0259 03       		.uleb128 0x3
 571 025a 0A       		.byte	0xa
 572 025b F401     		.2byte	0x1f4
 573 025d 00       		.byte	0
 574 025e 0D       		.uleb128 0xd
 575 025f 92000000 		.4byte	.LVL16
 576 0263 19030000 		.4byte	0x319
 577 0267 09       		.uleb128 0x9
 578 0268 9C000000 		.4byte	.LVL17
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 16


 579 026c D7020000 		.4byte	0x2d7
 580 0270 7E020000 		.4byte	0x27e
 581 0274 0A       		.uleb128 0xa
 582 0275 01       		.uleb128 0x1
 583 0276 50       		.byte	0x50
 584 0277 05       		.uleb128 0x5
 585 0278 03       		.byte	0x3
 586 0279 D4000000 		.4byte	.LC13
 587 027d 00       		.byte	0
 588 027e 0D       		.uleb128 0xd
 589 027f A0000000 		.4byte	.LVL18
 590 0283 19030000 		.4byte	0x319
 591 0287 09       		.uleb128 0x9
 592 0288 AA000000 		.4byte	.LVL19
 593 028c ED020000 		.4byte	0x2ed
 594 0290 9A020000 		.4byte	0x29a
 595 0294 0A       		.uleb128 0xa
 596 0295 01       		.uleb128 0x1
 597 0296 50       		.byte	0x50
 598 0297 01       		.uleb128 0x1
 599 0298 31       		.byte	0x31
 600 0299 00       		.byte	0
 601 029a 0D       		.uleb128 0xd
 602 029b B4000000 		.4byte	.LVL20
 603 029f 03030000 		.4byte	0x303
 604 02a3 0D       		.uleb128 0xd
 605 02a4 B8000000 		.4byte	.LVL21
 606 02a8 0E030000 		.4byte	0x30e
 607 02ac 0B       		.uleb128 0xb
 608 02ad C0000000 		.4byte	.LVL22
 609 02b1 D7020000 		.4byte	0x2d7
 610 02b5 0A       		.uleb128 0xa
 611 02b6 01       		.uleb128 0x1
 612 02b7 50       		.byte	0x50
 613 02b8 05       		.uleb128 0x5
 614 02b9 03       		.byte	0x3
 615 02ba F8000000 		.4byte	.LC15
 616 02be 00       		.byte	0
 617 02bf 00       		.byte	0
 618 02c0 0E       		.uleb128 0xe
 619 02c1 0B010000 		.4byte	.LASF26
 620 02c5 04       		.byte	0x4
 621 02c6 94       		.byte	0x94
 622 02c7 6B000000 		.4byte	0x6b
 623 02cb 0F       		.uleb128 0xf
 624 02cc 6E020000 		.4byte	.LASF27
 625 02d0 03       		.byte	0x3
 626 02d1 B30A     		.2byte	0xab3
 627 02d3 EF000000 		.4byte	0xef
 628 02d7 10       		.uleb128 0x10
 629 02d8 FB020000 		.4byte	.LASF28
 630 02dc FB020000 		.4byte	.LASF28
 631 02e0 05       		.byte	0x5
 632 02e1 26       		.byte	0x26
 633 02e2 10       		.uleb128 0x10
 634 02e3 EC000000 		.4byte	.LASF29
 635 02e7 EC000000 		.4byte	.LASF29
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 17


 636 02eb 04       		.byte	0x4
 637 02ec E5       		.byte	0xe5
 638 02ed 10       		.uleb128 0x10
 639 02ee 87010000 		.4byte	.LASF30
 640 02f2 87010000 		.4byte	.LASF30
 641 02f6 04       		.byte	0x4
 642 02f7 E7       		.byte	0xe7
 643 02f8 10       		.uleb128 0x10
 644 02f9 23030000 		.4byte	.LASF31
 645 02fd 23030000 		.4byte	.LASF31
 646 0301 06       		.byte	0x6
 647 0302 D9       		.byte	0xd9
 648 0303 10       		.uleb128 0x10
 649 0304 4A010000 		.4byte	.LASF32
 650 0308 4A010000 		.4byte	.LASF32
 651 030c 07       		.byte	0x7
 652 030d 7D       		.byte	0x7d
 653 030e 10       		.uleb128 0x10
 654 030f B4020000 		.4byte	.LASF33
 655 0313 B4020000 		.4byte	.LASF33
 656 0317 06       		.byte	0x6
 657 0318 E4       		.byte	0xe4
 658 0319 10       		.uleb128 0x10
 659 031a 00010000 		.4byte	.LASF34
 660 031e 00010000 		.4byte	.LASF34
 661 0322 08       		.byte	0x8
 662 0323 32       		.byte	0x32
 663 0324 00       		.byte	0
 664              		.section	.debug_abbrev,"",%progbits
 665              	.Ldebug_abbrev0:
 666 0000 01       		.uleb128 0x1
 667 0001 11       		.uleb128 0x11
 668 0002 01       		.byte	0x1
 669 0003 25       		.uleb128 0x25
 670 0004 0E       		.uleb128 0xe
 671 0005 13       		.uleb128 0x13
 672 0006 0B       		.uleb128 0xb
 673 0007 03       		.uleb128 0x3
 674 0008 0E       		.uleb128 0xe
 675 0009 1B       		.uleb128 0x1b
 676 000a 0E       		.uleb128 0xe
 677 000b 55       		.uleb128 0x55
 678 000c 17       		.uleb128 0x17
 679 000d 11       		.uleb128 0x11
 680 000e 01       		.uleb128 0x1
 681 000f 10       		.uleb128 0x10
 682 0010 17       		.uleb128 0x17
 683 0011 00       		.byte	0
 684 0012 00       		.byte	0
 685 0013 02       		.uleb128 0x2
 686 0014 24       		.uleb128 0x24
 687 0015 00       		.byte	0
 688 0016 0B       		.uleb128 0xb
 689 0017 0B       		.uleb128 0xb
 690 0018 3E       		.uleb128 0x3e
 691 0019 0B       		.uleb128 0xb
 692 001a 03       		.uleb128 0x3
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 18


 693 001b 0E       		.uleb128 0xe
 694 001c 00       		.byte	0
 695 001d 00       		.byte	0
 696 001e 03       		.uleb128 0x3
 697 001f 24       		.uleb128 0x24
 698 0020 00       		.byte	0
 699 0021 0B       		.uleb128 0xb
 700 0022 0B       		.uleb128 0xb
 701 0023 3E       		.uleb128 0x3e
 702 0024 0B       		.uleb128 0xb
 703 0025 03       		.uleb128 0x3
 704 0026 08       		.uleb128 0x8
 705 0027 00       		.byte	0
 706 0028 00       		.byte	0
 707 0029 04       		.uleb128 0x4
 708 002a 16       		.uleb128 0x16
 709 002b 00       		.byte	0
 710 002c 03       		.uleb128 0x3
 711 002d 0E       		.uleb128 0xe
 712 002e 3A       		.uleb128 0x3a
 713 002f 0B       		.uleb128 0xb
 714 0030 3B       		.uleb128 0x3b
 715 0031 05       		.uleb128 0x5
 716 0032 49       		.uleb128 0x49
 717 0033 13       		.uleb128 0x13
 718 0034 00       		.byte	0
 719 0035 00       		.byte	0
 720 0036 05       		.uleb128 0x5
 721 0037 35       		.uleb128 0x35
 722 0038 00       		.byte	0
 723 0039 49       		.uleb128 0x49
 724 003a 13       		.uleb128 0x13
 725 003b 00       		.byte	0
 726 003c 00       		.byte	0
 727 003d 06       		.uleb128 0x6
 728 003e 04       		.uleb128 0x4
 729 003f 01       		.byte	0x1
 730 0040 0B       		.uleb128 0xb
 731 0041 0B       		.uleb128 0xb
 732 0042 49       		.uleb128 0x49
 733 0043 13       		.uleb128 0x13
 734 0044 3A       		.uleb128 0x3a
 735 0045 0B       		.uleb128 0xb
 736 0046 3B       		.uleb128 0x3b
 737 0047 05       		.uleb128 0x5
 738 0048 01       		.uleb128 0x1
 739 0049 13       		.uleb128 0x13
 740 004a 00       		.byte	0
 741 004b 00       		.byte	0
 742 004c 07       		.uleb128 0x7
 743 004d 28       		.uleb128 0x28
 744 004e 00       		.byte	0
 745 004f 03       		.uleb128 0x3
 746 0050 0E       		.uleb128 0xe
 747 0051 1C       		.uleb128 0x1c
 748 0052 0B       		.uleb128 0xb
 749 0053 00       		.byte	0
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 19


 750 0054 00       		.byte	0
 751 0055 08       		.uleb128 0x8
 752 0056 2E       		.uleb128 0x2e
 753 0057 01       		.byte	0x1
 754 0058 3F       		.uleb128 0x3f
 755 0059 19       		.uleb128 0x19
 756 005a 03       		.uleb128 0x3
 757 005b 0E       		.uleb128 0xe
 758 005c 3A       		.uleb128 0x3a
 759 005d 0B       		.uleb128 0xb
 760 005e 3B       		.uleb128 0x3b
 761 005f 0B       		.uleb128 0xb
 762 0060 27       		.uleb128 0x27
 763 0061 19       		.uleb128 0x19
 764 0062 11       		.uleb128 0x11
 765 0063 01       		.uleb128 0x1
 766 0064 12       		.uleb128 0x12
 767 0065 06       		.uleb128 0x6
 768 0066 40       		.uleb128 0x40
 769 0067 18       		.uleb128 0x18
 770 0068 9742     		.uleb128 0x2117
 771 006a 19       		.uleb128 0x19
 772 006b 01       		.uleb128 0x1
 773 006c 13       		.uleb128 0x13
 774 006d 00       		.byte	0
 775 006e 00       		.byte	0
 776 006f 09       		.uleb128 0x9
 777 0070 898201   		.uleb128 0x4109
 778 0073 01       		.byte	0x1
 779 0074 11       		.uleb128 0x11
 780 0075 01       		.uleb128 0x1
 781 0076 31       		.uleb128 0x31
 782 0077 13       		.uleb128 0x13
 783 0078 01       		.uleb128 0x1
 784 0079 13       		.uleb128 0x13
 785 007a 00       		.byte	0
 786 007b 00       		.byte	0
 787 007c 0A       		.uleb128 0xa
 788 007d 8A8201   		.uleb128 0x410a
 789 0080 00       		.byte	0
 790 0081 02       		.uleb128 0x2
 791 0082 18       		.uleb128 0x18
 792 0083 9142     		.uleb128 0x2111
 793 0085 18       		.uleb128 0x18
 794 0086 00       		.byte	0
 795 0087 00       		.byte	0
 796 0088 0B       		.uleb128 0xb
 797 0089 898201   		.uleb128 0x4109
 798 008c 01       		.byte	0x1
 799 008d 11       		.uleb128 0x11
 800 008e 01       		.uleb128 0x1
 801 008f 31       		.uleb128 0x31
 802 0090 13       		.uleb128 0x13
 803 0091 00       		.byte	0
 804 0092 00       		.byte	0
 805 0093 0C       		.uleb128 0xc
 806 0094 34       		.uleb128 0x34
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 20


 807 0095 00       		.byte	0
 808 0096 03       		.uleb128 0x3
 809 0097 0E       		.uleb128 0xe
 810 0098 3A       		.uleb128 0x3a
 811 0099 0B       		.uleb128 0xb
 812 009a 3B       		.uleb128 0x3b
 813 009b 0B       		.uleb128 0xb
 814 009c 49       		.uleb128 0x49
 815 009d 13       		.uleb128 0x13
 816 009e 02       		.uleb128 0x2
 817 009f 18       		.uleb128 0x18
 818 00a0 00       		.byte	0
 819 00a1 00       		.byte	0
 820 00a2 0D       		.uleb128 0xd
 821 00a3 898201   		.uleb128 0x4109
 822 00a6 00       		.byte	0
 823 00a7 11       		.uleb128 0x11
 824 00a8 01       		.uleb128 0x1
 825 00a9 31       		.uleb128 0x31
 826 00aa 13       		.uleb128 0x13
 827 00ab 00       		.byte	0
 828 00ac 00       		.byte	0
 829 00ad 0E       		.uleb128 0xe
 830 00ae 34       		.uleb128 0x34
 831 00af 00       		.byte	0
 832 00b0 03       		.uleb128 0x3
 833 00b1 0E       		.uleb128 0xe
 834 00b2 3A       		.uleb128 0x3a
 835 00b3 0B       		.uleb128 0xb
 836 00b4 3B       		.uleb128 0x3b
 837 00b5 0B       		.uleb128 0xb
 838 00b6 49       		.uleb128 0x49
 839 00b7 13       		.uleb128 0x13
 840 00b8 3F       		.uleb128 0x3f
 841 00b9 19       		.uleb128 0x19
 842 00ba 3C       		.uleb128 0x3c
 843 00bb 19       		.uleb128 0x19
 844 00bc 00       		.byte	0
 845 00bd 00       		.byte	0
 846 00be 0F       		.uleb128 0xf
 847 00bf 34       		.uleb128 0x34
 848 00c0 00       		.byte	0
 849 00c1 03       		.uleb128 0x3
 850 00c2 0E       		.uleb128 0xe
 851 00c3 3A       		.uleb128 0x3a
 852 00c4 0B       		.uleb128 0xb
 853 00c5 3B       		.uleb128 0x3b
 854 00c6 05       		.uleb128 0x5
 855 00c7 49       		.uleb128 0x49
 856 00c8 13       		.uleb128 0x13
 857 00c9 3F       		.uleb128 0x3f
 858 00ca 19       		.uleb128 0x19
 859 00cb 3C       		.uleb128 0x3c
 860 00cc 19       		.uleb128 0x19
 861 00cd 00       		.byte	0
 862 00ce 00       		.byte	0
 863 00cf 10       		.uleb128 0x10
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 21


 864 00d0 2E       		.uleb128 0x2e
 865 00d1 00       		.byte	0
 866 00d2 3F       		.uleb128 0x3f
 867 00d3 19       		.uleb128 0x19
 868 00d4 3C       		.uleb128 0x3c
 869 00d5 19       		.uleb128 0x19
 870 00d6 6E       		.uleb128 0x6e
 871 00d7 0E       		.uleb128 0xe
 872 00d8 03       		.uleb128 0x3
 873 00d9 0E       		.uleb128 0xe
 874 00da 3A       		.uleb128 0x3a
 875 00db 0B       		.uleb128 0xb
 876 00dc 3B       		.uleb128 0x3b
 877 00dd 0B       		.uleb128 0xb
 878 00de 00       		.byte	0
 879 00df 00       		.byte	0
 880 00e0 00       		.byte	0
 881              		.section	.debug_aranges,"",%progbits
 882 0000 24000000 		.4byte	0x24
 883 0004 0200     		.2byte	0x2
 884 0006 00000000 		.4byte	.Ldebug_info0
 885 000a 04       		.byte	0x4
 886 000b 00       		.byte	0
 887 000c 0000     		.2byte	0
 888 000e 0000     		.2byte	0
 889 0010 00000000 		.4byte	.LFB36
 890 0014 34000000 		.4byte	.LFE36-.LFB36
 891 0018 00000000 		.4byte	.LFB37
 892 001c EC000000 		.4byte	.LFE37-.LFB37
 893 0020 00000000 		.4byte	0
 894 0024 00000000 		.4byte	0
 895              		.section	.debug_ranges,"",%progbits
 896              	.Ldebug_ranges0:
 897 0000 00000000 		.4byte	.LFB36
 898 0004 34000000 		.4byte	.LFE36
 899 0008 00000000 		.4byte	.LFB37
 900 000c EC000000 		.4byte	.LFE37
 901 0010 00000000 		.4byte	0
 902 0014 00000000 		.4byte	0
 903              		.section	.debug_line,"",%progbits
 904              	.Ldebug_line0:
 905 0000 F1000000 		.section	.debug_str,"MS",%progbits,1
 905      02009F00 
 905      00000201 
 905      FB0E0D00 
 905      01010101 
 906              	.LASF22:
 907 0000 4359424C 		.ascii	"CYBLE_STATE_DISCONNECTED\000"
 907      455F5354 
 907      4154455F 
 907      44495343 
 907      4F4E4E45 
 908              	.LASF36:
 909 0019 6F74615F 		.ascii	"ota_optional.c\000"
 909      6F707469 
 909      6F6E616C 
 909      2E6300
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 22


 910              	.LASF37:
 911 0028 433A5C55 		.ascii	"C:\\Users\\Tymek\\Documents\\EE\\Programming\\PSoC\\"
 911      73657273 
 911      5C54796D 
 911      656B5C44 
 911      6F63756D 
 912 0055 4359424C 		.ascii	"CYBLE-224110-00_Clock_OTA\\BLE_OTA_UpgradableStackE"
 912      452D3232 
 912      34313130 
 912      2D30305F 
 912      436C6F63 
 913 0087 78616D70 		.ascii	"xample_Stack01.cydsn\000"
 913      6C655F53 
 913      7461636B 
 913      30312E63 
 913      7964736E 
 914              	.LASF13:
 915 009c 646F7562 		.ascii	"double\000"
 915      6C6500
 916              	.LASF12:
 917 00a3 666C6F61 		.ascii	"float\000"
 917      7400
 918              	.LASF38:
 919 00a9 636F756E 		.ascii	"counter\000"
 919      74657200 
 920              	.LASF7:
 921 00b1 6C6F6E67 		.ascii	"long long unsigned int\000"
 921      206C6F6E 
 921      6720756E 
 921      7369676E 
 921      65642069 
 922              	.LASF1:
 923 00c8 756E7369 		.ascii	"unsigned char\000"
 923      676E6564 
 923      20636861 
 923      7200
 924              	.LASF15:
 925 00d6 72656738 		.ascii	"reg8\000"
 925      00
 926              	.LASF24:
 927 00db 41667465 		.ascii	"AfterImageUpdate\000"
 927      72496D61 
 927      67655570 
 927      64617465 
 927      00
 928              	.LASF29:
 929 00ec 4C6F6164 		.ascii	"Loader_SetFlashByte\000"
 929      65725F53 
 929      6574466C 
 929      61736842 
 929      79746500 
 930              	.LASF34:
 931 0100 5357325F 		.ascii	"SW2_S_Read\000"
 931      535F5265 
 931      616400
 932              	.LASF26:
 933 010b 4C6F6164 		.ascii	"Loader_isBootloading\000"
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 23


 933      65725F69 
 933      73426F6F 
 933      746C6F61 
 933      64696E67 
 934              	.LASF21:
 935 0120 4359424C 		.ascii	"CYBLE_STATE_ADVERTISING\000"
 935      455F5354 
 935      4154455F 
 935      41445645 
 935      52544953 
 936              	.LASF5:
 937 0138 6C6F6E67 		.ascii	"long unsigned int\000"
 937      20756E73 
 937      69676E65 
 937      6420696E 
 937      7400
 938              	.LASF32:
 939 014a 426F6F74 		.ascii	"Bootloadable_SetActiveApplication\000"
 939      6C6F6164 
 939      61626C65 
 939      5F536574 
 939      41637469 
 940              	.LASF10:
 941 016c 75696E74 		.ascii	"uint16\000"
 941      313600
 942              	.LASF11:
 943 0173 75696E74 		.ascii	"uint32\000"
 943      333200
 944              	.LASF8:
 945 017a 756E7369 		.ascii	"unsigned int\000"
 945      676E6564 
 945      20696E74 
 945      00
 946              	.LASF30:
 947 0187 4C6F6164 		.ascii	"Loader_ValidateBootloadable\000"
 947      65725F56 
 947      616C6964 
 947      61746542 
 947      6F6F746C 
 948              	.LASF14:
 949 01a3 63686172 		.ascii	"char\000"
 949      00
 950              	.LASF23:
 951 01a8 4359424C 		.ascii	"CYBLE_STATE_T\000"
 951      455F5354 
 951      4154455F 
 951      5400
 952              	.LASF18:
 953 01b6 4359424C 		.ascii	"CYBLE_STATE_STOPPED\000"
 953      455F5354 
 953      4154455F 
 953      53544F50 
 953      50454400 
 954              	.LASF25:
 955 01ca 54696D65 		.ascii	"TimeoutImplementation\000"
 955      6F757449 
 955      6D706C65 
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 24


 955      6D656E74 
 955      6174696F 
 956              	.LASF35:
 957 01e0 474E5520 		.ascii	"GNU C11 5.4.1 20160609 (release) [ARM/embedded-5-br"
 957      43313120 
 957      352E342E 
 957      31203230 
 957      31363036 
 958 0213 616E6368 		.ascii	"anch revision 237715] -mcpu=cortex-m0 -mthumb -g -O"
 958      20726576 
 958      6973696F 
 958      6E203233 
 958      37373135 
 959 0246 67202D66 		.ascii	"g -ffunction-sections -ffat-lto-objects\000"
 959      66756E63 
 959      74696F6E 
 959      2D736563 
 959      74696F6E 
 960              	.LASF27:
 961 026e 6379426C 		.ascii	"cyBle_state\000"
 961      655F7374 
 961      61746500 
 962              	.LASF17:
 963 027a 73697A65 		.ascii	"sizetype\000"
 963      74797065 
 963      00
 964              	.LASF3:
 965 0283 73686F72 		.ascii	"short unsigned int\000"
 965      7420756E 
 965      7369676E 
 965      65642069 
 965      6E7400
 966              	.LASF6:
 967 0296 6C6F6E67 		.ascii	"long long int\000"
 967      206C6F6E 
 967      6720696E 
 967      7400
 968              	.LASF2:
 969 02a4 73686F72 		.ascii	"short int\000"
 969      7420696E 
 969      7400
 970              	.LASF9:
 971 02ae 75696E74 		.ascii	"uint8\000"
 971      3800
 972              	.LASF33:
 973 02b4 4379536F 		.ascii	"CySoftwareReset\000"
 973      66747761 
 973      72655265 
 973      73657400 
 974              	.LASF20:
 975 02c4 4359424C 		.ascii	"CYBLE_STATE_CONNECTED\000"
 975      455F5354 
 975      4154455F 
 975      434F4E4E 
 975      45435445 
 976              	.LASF4:
 977 02da 6C6F6E67 		.ascii	"long int\000"
ARM GAS  C:\Users\Tymek\AppData\Local\Temp\ccDJs0LG.s 			page 25


 977      20696E74 
 977      00
 978              	.LASF16:
 979 02e3 6C6F6E67 		.ascii	"long double\000"
 979      20646F75 
 979      626C6500 
 980              	.LASF0:
 981 02ef 7369676E 		.ascii	"signed char\000"
 981      65642063 
 981      68617200 
 982              	.LASF28:
 983 02fb 55415254 		.ascii	"UART_PutString\000"
 983      5F507574 
 983      53747269 
 983      6E6700
 984              	.LASF19:
 985 030a 4359424C 		.ascii	"CYBLE_STATE_INITIALIZING\000"
 985      455F5354 
 985      4154455F 
 985      494E4954 
 985      49414C49 
 986              	.LASF31:
 987 0323 43794465 		.ascii	"CyDelay\000"
 987      6C617900 
 988              		.ident	"GCC: (GNU Tools for ARM Embedded Processors) 5.4.1 20160609 (release) [ARM/embedded-5-bran
